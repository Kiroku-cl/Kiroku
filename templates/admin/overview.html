{% extends "base.html" %}

{% block title %}Admin Overview - HILO{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='admin.css') }}">
{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <div>
            <h1 class="admin-title">Admin Overview</h1>
        </div>
    </div>

    {% include "admin/partials/nav.html" %}

    <div class="admin-grid" id="overview-grid">
        <div class="admin-card metric-card warning">
            <h3>Jobs en proceso</h3>
            <div class="metric" id="stat-jobs-processing">--</div>
        </div>
        <div class="admin-card metric-card error">
            <h3>Jobs en error</h3>
            <div class="metric" id="stat-jobs-error">--</div>
        </div>
        <div class="admin-card metric-card accent-light">
            <h3>Im√°genes en proceso</h3>
            <div class="metric" id="stat-images-processing">--</div>
        </div>
    </div>

    <div class="chart-panel">
        <div class="chart-card">
            <div class="admin-header" style="margin-bottom: 12px;">
                <div>
                    <h3>Proyectos por hora</h3>
                </div>
                <div class="filter-bar" style="grid-template-columns: 1fr auto; gap: 8px;">
                    <input type="date" class="form-control" id="projects-date" style="height: 32px;">
                    <button class="btn btn-action primary" id="projects-date-apply" style="padding: 6px 12px; font-size: 12px; height: 32px;">Aplicar</button>
                </div>
            </div>
            <canvas id="projects-hourly-chart" height="120"></canvas>
        </div>

    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
<script src="{{ url_for('static', filename='dist/admin.min.js') }}" type="module"></script>
{% endblock %}
