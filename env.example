# Despliegue
APP_ENV=development # development|production
APP_EXPOSURE=public # public|edge
EDGE_NETWORK=edge   # solo se usa si APP_EXPOSURE=edge
APP_HOST=app.dominio.cl

# Flask
FLASK_ENV=development
FLASK_SECRET_KEY=changethisplease
FLASK_APP=app.py

# Database
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_USER=kiroku
POSTGRES_PASSWORD=kiroku.db
POSTGRES_DB=kiroku

# Redis
REDIS_URL=redis://redis:6379/0

# RQ queues
RQ_PREPARE_QUEUE=kiroku_prepare
RQ_TRANSCRIBE_QUEUE=kiroku_transcribe
RQ_PHOTO_QUEUE=kiroku_photos
RQ_LLM_QUEUE=kiroku_llm

# Sesión
SESSION_LIFETIME_DAYS=1

# Cookies
COOKIE_SECURE=0
COOKIE_SAMESITE=Lax

# Almacenamiento
DATA_DIR=data
RETENTION_DAYS=90
AUDIO_STORAGE_BACKEND=disk # disk|s3
# Si AUDIO_STORAGE_BACKEND=s3, configurar lo siguiente.
S3_AUDIO_BUCKET=
S3_AUDIO_PREFIX=audio
MAX_IMAGE_SIZE=2097152
MAX_CHUNK_SIZE=5242880

# Audio ingest / STT
AUDIO_WS_PATH=/ws/audio
AUDIO_CHUNK_SECONDS=10
TRANSCRIPTION_MODEL=gpt-4o-mini-transcribe

# Job timeouts
TRANSCRIBE_JOB_TIMEOUT=300
PHOTO_JOB_TIMEOUT=300
LLM_JOB_TIMEOUT=600
PREPARE_PROJECT_TIMEOUT=300

# OpenAI
OPENAI_API_KEY=sk-your-api-key-here
LLM_MODEL=gpt-4.1-mini
IMAGE_STYLE_ENABLED=false

# Imagen (Gemini)
GOOGLE_GENAI_API_KEY=
GENAI_IMAGE_MODEL=gemini-2.5-flash-image
IMAGE_STYLIZER_BACKEND=openai

# Worker count
WORKERS_AUDIO=1
WORKERS_TRANSCRIBE=2
WORKERS_PHOTO=2
WORKERS_LLM=1

# Override de expected head que los workers esperan antes
# de una migración. Si es vació, los workers esperan a la
# última migración.
ALEMBIC_EXPECTED_HEAD=
